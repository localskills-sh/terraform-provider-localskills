---
page_title: "localskills_sso_connection Resource - terraform-provider-localskills"
subcategory: "Enterprise"
description: |-
  Manages the SAML SSO connection for a team.
---

# localskills_sso_connection (Resource)

Manages the SAML SSO connection for a team on [localskills.sh](https://localskills.sh). This is a singleton resource -- each team has at most one SSO connection. The resource configures how team members authenticate using an external identity provider (IdP) such as Okta, Azure AD, or Google Workspace.

Both create and update operations use the same underlying API endpoint (PATCH). The provider treats the SSO configuration as an upsert: if no SSO connection exists it will be created, and if one already exists it will be updated.

At least one of `metadata_url` or `metadata_xml` must be provided. The `metadata_url` points to the IdP's metadata endpoint for automatic configuration, while `metadata_xml` allows providing the raw SAML metadata directly. The `email_domains` attribute restricts which email domains can use SSO to sign in.

~> **Note:** Deleting this resource does not remove the SSO connection. Instead, it disables SSO by setting `enabled` and `require_sso` to `false`. To fully reconfigure SSO, create a new `localskills_sso_connection` resource.

## Example Usage

```terraform
resource "localskills_sso_connection" "okta" {
  tenant_id     = localskills_team.engineering.id
  display_name  = "Okta SSO"
  metadata_url  = "https://myorg.okta.com/app/abc123/sso/saml/metadata"
  default_role  = "member"
  email_domains = ["example.com", "myorg.com"]
  enabled       = true
  require_sso   = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `display_name` (String) The display name of the SSO connection.
- `tenant_id` (String) The ID of the team (tenant) this SSO connection belongs to.

### Optional

- `default_role` (String) The default role assigned to users who sign in via SSO. Must be one of: admin, member, viewonly.
- `email_domains` (List of String) List of email domains that are allowed to use SSO.
- `enabled` (Boolean) Whether the SSO connection is enabled. Defaults to true.
- `metadata_url` (String) The URL to the IdP metadata XML. At least one of metadata_url or metadata_xml must be provided.
- `metadata_xml` (String, Sensitive) The raw IdP metadata XML. At least one of metadata_url or metadata_xml must be provided.
- `require_sso` (Boolean) Whether SSO is required for all users. Defaults to false.

### Read-Only

- `created_at` (String) The timestamp when the SSO connection was created.
- `id` (String) The unique identifier of the SSO connection.
- `idp_entity_id` (String) The Identity Provider entity ID.
- `idp_slo_url` (String) The Identity Provider SLO (Single Logout) URL.
- `idp_sso_url` (String) The Identity Provider SSO URL.
- `sp_acs_url` (String) The Service Provider ACS (Assertion Consumer Service) URL.
- `sp_entity_id` (String) The Service Provider entity ID.
- `updated_at` (String) The timestamp when the SSO connection was last updated.

## Import

Import an SSO connection using the tenant ID only (since SSO is a singleton per team):

```sh
terraform import localskills_sso_connection.example <tenant_id>
```
